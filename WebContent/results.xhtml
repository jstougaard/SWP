<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      template="template.xhtml">
<f:metadata>
    <f:event type="preRenderView" listener="#{poll.checkSetup}" />
</f:metadata>
<ui:define name="content">
    <h2>#{model.question}</h2>
	<p>Total votes : ${model.total }</p>
	<h:dataTable value="#{model.results}" var="r"
    			styleClass="result-table"
    			columnClasses="label,bar,count"
    		>
 
    			<h:column>
    				#{r.label}
    			</h:column>
 
    			<h:column>
    				<div class="diagram-bar" style="width:#{300 * r.weight}px"></div>
    			</h:column>
 
    			<h:column>
    				#{r.votes}
    			</h:column>
 
    		</h:dataTable>
		<p><a href="ask.jsf">&lt; Vote again</a> | <a href="setup.jsf">New question</a></p>
  </ui:define>
</ui:composition>